<div class="form-container">
  <div class="header">
    <h1>游늵 SlackTime</h1>
    <p class="subtitle">An치lisis de tiempo en reuniones y beneficios</p>
  </div>

  <div class="form-card">
    <form [formGroup]="formulario" (ngSubmit)="onSubmit()">
      <!-- Campo Nombre del Grupo -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Nombre del Grupo</mat-label>
        <mat-select formControlName="nombreGrupo" placeholder="Selecciona el nombre del grupo">
          <mat-option *ngFor="let grupo of grupos" [value]="grupo">
            {{ grupo }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="formulario.get('nombreGrupo')?.hasError('required')">
          El nombre del grupo es obligatorio
        </mat-error>
      </mat-form-field>

      <!-- Informaci칩n del grupo seleccionado -->
      <div *ngIf="nombres.length > 0" class="group-info">
        <div class="info-header">
          <span>Personas en el grupo ({{ getTotalPersonas() }})</span>
        </div>
        <div class="people-list">
          <div *ngFor="let persona of nombres" class="person-item">
            <span class="person-name">{{ persona.nombre }}</span>
            <span class="person-email">{{ persona.correo }}</span>
          </div>
        </div>
      </div>

      <!-- Fechas -->
      <div class="date-section">
        <h3>游늰 Per칤odo de An치lisis</h3>
        
        <div class="date-fields">
          <mat-form-field appearance="outline">
            <mat-label>Fecha de Inicio</mat-label>
            <input matInput [matDatepicker]="pickerInicio" formControlName="fechaInicio" required />
            <mat-datepicker-toggle matSuffix [for]="pickerInicio"></mat-datepicker-toggle>
            <mat-datepicker #pickerInicio></mat-datepicker>
            <mat-error *ngIf="formulario.get('fechaInicio')?.hasError('required')">
              La fecha de inicio es obligatoria
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Fecha de Fin</mat-label>
            <input matInput [matDatepicker]="pickerFin" formControlName="fechaFin" required />
            <mat-datepicker-toggle matSuffix [for]="pickerFin"></mat-datepicker-toggle>
            <mat-datepicker #pickerFin></mat-datepicker>
            <mat-error *ngIf="formulario.get('fechaFin')?.hasError('required')">
              La fecha de fin es obligatoria
            </mat-error>
          </mat-form-field>
        </div>
      </div>

      <!-- Botones de acci칩n -->
      <div class="action-buttons">
        <button 
          mat-raised-button 
          color="primary" 
          type="submit" 
          [disabled]="!getFormularioValido()"
          class="submit-button">
          <span *ngIf="!isLoading">
            Generar Reporte
          </span>
          <span *ngIf="isLoading">Procesando...</span>
        </button>

        <button 
          mat-stroked-button 
          type="button" 
          (click)="limpiarFormulario()"
          [disabled]="isLoading"
          class="clear-button">
          Limpiar
        </button>
      </div>
    </form>
  </div>

  <!-- Informaci칩n adicional -->
  <div class="info-section">
    <div class="info-card">
      <h3>Informaci칩n del proceso</h3>
      <ul>
        <li>El sistema analizar치 las reuniones de todos los miembros del grupo seleccionado</li>
        <li>Se clasificar치n autom치ticamente las reuniones por tipo (ceremonias, rutas, etc.)</li>
        <li>Se incluir치n los beneficios de cada persona en el reporte</li>
        <li>El archivo Excel se descargar치 autom치ticamente al completar el procesamiento</li>
      </ul>
    </div>
  </div>
</div>


